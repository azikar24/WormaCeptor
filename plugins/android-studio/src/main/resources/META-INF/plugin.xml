<idea-plugin>
    <id>com.azikar24.wormaceptor.studio</id>
    <name>WormaCeptor</name>
    <vendor email="azikar24@gmail.com" url="https://github.com/AziKar24/WormaCeptor">AziKar24</vendor>
    <description><![CDATA[
        Network inspection integration for Android development.
        <br/><br/>
        Features:
        <ul>
            <li>View HTTP transactions captured by WormaCeptor</li>
            <li>Open WormaCeptor viewer on device</li>
            <li>Status bar indicator for capture status</li>
            <li>Navigate from transaction to source code</li>
        </ul>
    ]]></description>

    <depends>com.intellij.modules.androidstudio</depends>
    <depends>org.jetbrains.android</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Tool Window -->
        <toolWindow id="WormaCeptor"
                    anchor="bottom"
                    icon="/icons/wormaceptor.svg"
                    factoryClass="com.azikar24.wormaceptor.studio.toolwindow.WormaCeptorToolWindowFactory"/>

        <!-- Status Bar Widget -->
        <statusBarWidgetFactory id="WormaCeptorStatus"
                                implementation="com.azikar24.wormaceptor.studio.statusbar.CaptureStatusWidgetFactory"/>

        <!-- Project Service -->
        <projectService serviceInterface="com.azikar24.wormaceptor.studio.service.WormaCeptorService"
                        serviceImplementation="com.azikar24.wormaceptor.studio.service.WormaCeptorServiceImpl"/>
    </extensions>

    <actions>
        <!-- Main Menu -->
        <group id="WormaCeptor.MainMenu" text="WormaCeptor" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <action id="WormaCeptor.OpenViewer"
                    class="com.azikar24.wormaceptor.studio.actions.OpenViewerAction"
                    text="Open WormaCeptor Viewer"
                    description="Open WormaCeptor viewer on connected device"
                    icon="/icons/wormaceptor.svg"/>
            <action id="WormaCeptor.RefreshTransactions"
                    class="com.azikar24.wormaceptor.studio.actions.RefreshTransactionsAction"
                    text="Refresh Transactions"
                    description="Refresh transaction list from device"/>
            <separator/>
            <action id="WormaCeptor.ClearTransactions"
                    class="com.azikar24.wormaceptor.studio.actions.ClearTransactionsAction"
                    text="Clear Transactions"
                    description="Clear all captured transactions"/>
        </group>

        <!-- Keyboard Shortcuts -->
        <action id="WormaCeptor.QuickOpen"
                class="com.azikar24.wormaceptor.studio.actions.QuickOpenAction"
                text="Quick Open WormaCeptor"
                description="Open WormaCeptor tool window">
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift W"/>
        </action>
    </actions>
</idea-plugin>
